#################################################################################################################
# Ansible Configuration for MATLAB Installation
#
# Purpose: Ansible configuration for secure airgapped environment
# Environment: STIG compliant, FIPS mode enabled
# Target: Ubuntu 22.04 and RHEL8 workstations (x86_64)
#
# Security Notes:
# - STIG-compliant settings
# - Secure logging and audit configuration
# - Restricted SSH and escalation settings
# - Vault encryption enforced
#
# Author: Michael Angel
# Date: 2025-09-17
# Version: 1.1
#################################################################################################################

[defaults]
# Inventory settings
inventory = inventory/hosts.yml
host_key_checking = False
remote_user = ansible
ask_pass = False
ask_become_pass = False

# Output and logging
stdout_callback = yaml
log_path = ./ansible.log
ansible_managed = Ansible managed: modified on %Y-%m-%d %H:%M:%S by {uid} on {host}

# Performance settings
gathering = smart
fact_caching = jsonfile
fact_caching_connection = /tmp/ansible_facts_cache
fact_caching_timeout = 86400
retry_files_enabled = True
retry_files_save_path = ~/.ansible-retry

# Security settings
force_valid_group_names = always
interpreter_python = auto_silent

# Role and collection paths
roles_path = roles
collections_path = collections
library = library
action_plugins = action_plugins
callback_plugins = callback_plugins
filter_plugins = filter_plugins

# Timeout settings
timeout = 300
command_timeout = 300
connect_timeout = 30

# Error handling
error_on_undefined_vars = True
force_handlers = True
any_errors_fatal = False

[inventory]
enable_plugins = yaml, ini, script
cache = True
cache_plugin = jsonfile
cache_timeout = 86400
cache_connection = /tmp/ansible_inventory_cache

[privilege_escalation]
become = True
become_method = sudo
become_user = root
become_ask_pass = False

[ssh_connection]
ssh_args = -o ControlMaster=auto -o ControlPersist=60s -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no
control_path = ~/.ansible/cp/%%h-%%p-%%r
pipelining = True
retries = 3
timeout = 30

[persistent_connection]
command_timeout = 300
connect_timeout = 30
connect_retry_timeout = 15
connect_interval = 1

[selinux]
special_context_filesystems = fuse,nfs,vboxsf,ramfs,9p,vfat

[colors]
highlight = white
verbose = blue
warn = bright purple
error = red
debug = dark gray
deprecate = purple
skip = cyan
unreachable = red
ok = green
changed = yellow
diff_add = green
diff_remove = red
diff_lines = cyan

[diff]
always = False
context = 3