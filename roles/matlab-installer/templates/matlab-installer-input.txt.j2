# MATLAB {{ matlab_version }} Silent Installation Input File
# Generated by Ansible for {{ inventory_hostname }}
# Date: {{ ansible_date_time.iso8601 }}

# Installation mode
mode=silent

# Destination folder
destinationFolder={{ matlab_install_root }}

# File Installation Key (use vault variable)
{% if matlab_file_installation_key is defined %}
fileInstallationKey={{ matlab_file_installation_key }}
{% endif %}

# License configuration
{% if matlab_license_type == "network" %}
licenseServer={{ matlab_license_server }}:{{ matlab_license_port }}
{% elif matlab_license_type == "file" and matlab_license_file | length > 0 %}
licensePath={{ matlab_temp_dir }}/license.lic
{% endif %}

# Accept license agreement
agreeToLicense=yes

# Output to console
outputFile=/var/log/matlab/installation/matlab_install_{{ matlab_install_timestamp }}.log

# Products to install
{% for product in matlab_install_products %}
product.{{ product }}=true
{% endfor %}

# Installation options
createDesktopShortcuts={{ 'true' if matlab_create_desktop_shortcuts else 'false' }}
installDocumentation={{ 'true' if matlab_install_documentation else 'false' }}

# Improve MATLAB startup time
improveMATLABStartupTime=true

# Enable file association
enableFileAssociation=true

# Disable desktop integration during silent install
disableDesktopIntegration=false

# Set default installation for all users
installForAllUsers=true